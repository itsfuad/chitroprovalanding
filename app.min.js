const canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d");canvas.height=window.innerHeight,canvas.width=window.innerWidth;const particlesArray=[],adjustX=20,adjustY=-20;ctx.fillStyle="white",ctx.font="30px Verdana",ctx.fillText("Artist Brothers",canvas.width/60,canvas.height/8);const imageData=ctx.getImageData(0,0,canvas.width,canvas.height),mouse={x:null,y:null,radius:100};window.addEventListener("mousemove",t=>{mouse.x=t.x,mouse.y=t.y,console.log(mouse.y,mouse.y)});class Particle{constructor(t,a){this.x=t,this.y=a,this.baseX=this.x,this.baseY=this.y,this.velocity=.1,this.size=1,this.density=30*Math.random()+5}draw(){ctx.fillStyle="white",ctx.beginPath(),ctx.arc(this.x,this.y,this.size,0,2*Math.PI),ctx.closePath(),ctx.fill()}update(){const t=mouse.x-this.x,a=mouse.y-this.y,e=Math.sqrt(t*t+a*a),i=t/e,s=a/e,r=mouse.radius,c=(r-e)/r,n=i*c*this.density,h=s*c*this.density;e<mouse.radius?(this.x-=n,this.y-=h):(this.x!==this.baseX&&(this.x-=this.x-this.baseX/10),this.y!==this.baseY&&(this.y-=this.y-this.baseY/10))}}function createParticles(){for(let t=0;t<imageData.height;t++)for(let a=0;a<imageData.width;a++)if(imageData.data[4*t*imageData.width+4*a+3]>128){const e=a,i=t;particlesArray.push(new Particle(5*e+adjustX,5*i+adjustY))}animation()}function animation(){ctx.clearRect(0,0,canvas.width,canvas.height);for(let t=0;t<particlesArray.length;t++)particlesArray[t].draw(),particlesArray[t].update();connect(),requestAnimationFrame(animation)}function connect(){let t=1;for(let a=0;a<particlesArray.length;a++)for(let e=0;e<particlesArray.length;e++){const i=particlesArray[a].x-particlesArray[e].x,s=particlesArray[a].y-particlesArray[e].y,r=Math.sqrt(i*i+s*s);r<20&&(t=1-r/20,ctx.strokeStyle=`rgba(255,255,255,${t})`,ctx.lineWidth=.5,ctx.beginPath(),ctx.moveTo(particlesArray[a].x,particlesArray[a].y),ctx.lineTo(particlesArray[e].x,particlesArray[e].y),ctx.stroke())}}createParticles();